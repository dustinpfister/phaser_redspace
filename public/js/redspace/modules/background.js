
// Tile sprite powered background module
var Background = (function () {

    var api = {};

    // basic options defaults helper
    var optionBasicDefaults = function (opt) {

        opt = opt || {};
        opt.game = opt.game || game;

        return opt;

    };

    // make the sheet for the background
    api.mkSheet = function (opt) {

        opt = optionBasicDefaults(opt);

        // sprite sheet generated by canvas
        var canvas = document.createElement('canvas'),
        ctx = canvas.getContext('2d');
        canvas.width = 32;
        canvas.height = 32;

        // blue ship
        ctx.strokeStyle = '#ffffff';
        ctx.strokeRect(0, 0, 32, 32);

        game.cache.addSpriteSheet('sheet-background', null, canvas, 32, 32, 1, 0, 0);

    };

    // create a tile sprite for the background
    api.createTileSprite = function (opt) {

        opt = optionBasicDefaults(opt),
        game = opt.game;

        var tile = this.tile = game.add.tileSprite(0, 0, game.canvas.width, game.canvas.height, 'sheet-background', 0);
        tile.name = 'tile-background';

        tile.fixedToCamera = true;
        tile.cameraOffset.set(0,0);

    };

    api.tick = function (game) {

        var x = game.camera.position.x,
        y = game.camera.position.y;

        this.tile.tilePosition.set(-x, -y);

    };

    return api;

}
    ());
